<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>John Andrew Kunze – Curriculum Vitae – jkunze</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-a14e3238c51140e99ccc48519b6ed9ce.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">jkunze</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">John Andrew Kunze – Curriculum Vitae</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<small>
<hr>
<center style="line-height: 1.8;">
<a rel="me" href="https://mrc.cci.drexel.edu">Metadata Research Center</a>, Drexel University <br> 3141 Chestnut Street Philadelphia, PA 19104, USA <br> ORCID: <a rel="me" href="https://orcid.org/0000-0001-7604-8041">0000-0001-7604-8041</a> &nbsp;|&nbsp; Linkedin: <a rel="me" href="https://linkedin.com/in/jakkbl">linkedin.com/in/jakkbl</a> &nbsp;|&nbsp; Github: <a rel="me" href="https://github.com/jkunze">jkunze</a> <br> Mastodon: <a rel="me" href="https://fosstodon.org/@jakkbl">fosstodon.org/<span class="citation" data-cites="jakkbl">@jakkbl</span></a> &nbsp;|&nbsp; Bluesky: <a rel="me" href="https://bsky.app/profile/jakkbl.bsky.social">jakkbl.bsky.social</a> <br> <a rel="me" href="index.html">jkunze.net</a> &nbsp;|&nbsp; <a rel="me" href="https://arks.org">ARK Alliance</a>
</center>
</small><p><small></small></p>
<hr>
<p><span class="small"><em>RESEARCH AND DEVELOPMENT</em></span></p>
<p><span class="small"><strong>Information Standards</strong></span></p>
<p><span class="small">Aggregate File Formats: primary author of the BagIt packaging format for disk-based or network-based storage and transfer of generalized digital content; co-author of the WARC (Web Archive) file format published as ISO 28500:2009; Standards Group lead for the International Internet Preservation Consortium (IIPC); member of the IIPC Technical Committee</span></p>
<p><span class="small">Metadata Semantic Standards: primary author of RFC 5013 Dublin Core (DC) metadata specification; founder and chair of the DC Kernel Metadata workgroup; chair of the National Information Standards Organization committee that moved the DC metadata specification to approval as NISO Z39.85 (2001); co-author and editor of the original DC metadata specification, RFC 2413; member of the DC Advisory Board; chair of the DC Agents and DC Date working groups; inventor in 1992 of the Z39.50 Info-1 generic attribute and element set, a precursor of DC</span></p>
<p><span class="small">Metadata Syntax Standards: author of the specification for encoding Dublin Core in HTML, RFC 2731; author of the ANVL (A Name Value Language) specification for simple labels and values in the style of RFC822; author of the TEMPER specification for dates; inventor of the Z39.50 Generic Record Syntax (GRS)</span></p>
<p><span class="small">Uniform Resource Identifiers: in the context of the URI working group of the IETF, coined the term, URC (originally Uniform Resource Citation); contributed substantively to the URL standard itself, which includes authoring RFC 1736, functional requirements for the URL; led the creation of RFC 2056 describing Z39.50 URLs</span></p>
<p><span class="small"><strong>Electronic Permanence</strong></span></p>
<p><span class="small">Digital Curation Tools: conceived a number of standalone tools, some incorporated into the Oxford Common File Layout (OCFL) specification, that support curation and preservation as embedded, distributed infrastructure rather than as part of a monolithic repository system that imposes a single archival culture on digital collections: Pairtree, Dflat, ReDD, Checkm, Namaste, CAN (Content Access Node); wrote and documented portable open-source software to support the tools; co-authored the curation micro-services approach being implemented at the California Digital Library (CDL)</span></p>
<p><span class="small">Dataset Preservation: in December 2006 did a six-week Digital Curation Centre (DCC) fellowship with the Database Research Group at the University of Edinburgh, consulting with directors and staff at all four DCC sites regarding database preservation requirements and strategies; Preservation Group lead on a winning NSF DataNet proposal (led by University of New Mexico)</span></p>
<p><span class="small">Web Archiving: wrote the core service vision in a winning NDIIPP grant proposal to the Library of Congress to create a service allowing curators to harvest and preserve web sites on demand, creating a geographically replicated archive that they can annotate, browse, and search; results of this 3-year grant used to advise congress on a national preservation strategy; provided critical technical leadership throughout implementation of CDL’s web archiving service, including technical collaboration with grant partners (e.g., UNT, NYU)</span></p>
<p><span class="small">Permanence Ratings: defined the framework for and participated centrally in the US National Library of Medicine’s multi-dimensional specification of permanence levels (about object availability, content invariance, and identifier validity); this work was published and the framework adopted by the US National Agriculture Library; built on this work for ARK persistence statements</span></p>
<p><span class="small">ARK Persistent Identification Scheme: at NLM, analyzed 1998-era persistent naming schemes (URN, DOI, PURL, Handle, PDI (Persistent Document Identifier)), and formulated a new scheme, the Archival Resource Key (ARK), founded on the principle that persistence is purely about the service commitments of current object holders, not scheme syntax or the intent of name assigners that have no extant object service responsibility</span></p>
<p><span class="small">Persistent Identifier Infrastructure and Outreach:<br>
at CDL, built a generalized identifier minting, binding, and resolving system (“noid”) that produces random, unique, non-sequential identifiers designed for permanence; these are compact, transcribable, semantically opaque, and furnished with a check character that guarantees each in the face of single digit and transcription errors; built and prototyped with a set of international partners the Name-To-Thing (N2T) resolver as a low-cost, low-risk consortially owned resolver for hundreds of identifier schemes (ARK, DOI, ChEBI, PDB, etc.); gave talks on these subjects at international meetings; founded the ARK Alliance (arks.org) to sustain ARK infrastructure and led its growth to over 1700 ARK organizations</span></p>
<p><span class="small"><strong>Networked Information Systems</strong></span></p>
<p><span class="small">THUMP Protocol: designed The HTTP URL Mapping Protocol (THUMP), a set of URL-based conventions for retrieving information and conducting searches using a simple procedure call syntax in the URL query string and an ANVL syntax for returned records; worked with researchers at RENCI to extend it for dataset queries</span></p>
<p><span class="small">Z39.50 Protocol: at UC Berkeley, designed, wrote, and released the first complete Z39.50 client and server protocol engine, participating in the first three-way interoperability demonstration at NET ’92 with UC Office of the President (UCOP) and Penn State; worked within the Z39.50 Implementors Group to create and win adoption of the Generic Record Syntax in support of non-bibliographic applications; at NLM, designed and wrote a Z39.50 server for the MEDLINE database, and designed a generalized thesaurus mechanism (Structured Vocabulary Browse) to work with NLM’s MeSH headings; at UC San Francisco (UCSF), directed a team of programmers in developing a Web interface and HTTP/Z39.50 gateway to MEDLINE; for UCOP, developed the first production instance of the Web-based MELVYL system’s access methods for external Z39.50 databases (in this case, to PreMEDLINE running at NLM)</span></p>
<p><span class="small">Online Information Systems: proposed, designed, wrote, and maintained in production a client-server CWIS information system, Infocal, which provided the first general online access to UC Berkeley’s main administrative datasets (schedule of classes, course catalog, phone directories, job vacancy listings, press releases); in the pre-Web era, this required extensive liaison with management and staff of campus units that maintained these datasets, and who were intimidated by information technology, unsure of the benefits of online access, and anxious about losing control over their data; Infocal was also an early client (1992) of both the Z39.50 and Web protocols (HTTP, Gopher, FTP)</span></p>
<p><span class="small">Computer Aided Instruction: designed, wrote, and maintained the Berkeley UNIX <em>help</em> system, a general-purpose online information system for exploring documentation files, directories, and executables (it had a user interface foreshadowing that of the Gopher browser); revived and significantly enhanced the UNIX <em>learn</em> program, a hypertext-based teaching tool from Bell Labs (late 1970s); both <em>help</em> and <em>learn</em> were disseminated globally with 4.2/4.3BSD (Berkeley Software Distribution); by 1982 the production <em>help</em> documentation tree was replicated on a daily basis across about twenty file servers on the Berkeley campus network</span></p>
<p><span class="small"><strong>Digital Libraries</strong></span></p>
<p><span class="small">Tobacco Control Research Collection: at UCSF, architected the American Legacy Foundation-funded Legacy National Tobacco Documents Library, some 40 million page images released by court order from the world’s major tobacco companies; during the implementation phase, focused on problems of poor indexing, corrupt or missing data, and incorporation of new material via web crawlers from ever-changing industry sites; wrote the main software components that support access via persistent identifiers and the browsing of individual document pages</span></p>
<p><span class="small">Tobacco Document Digitization: created a detailed processing specification for digitizing shops to use in converting paper documents into standardized digital objects suitable for incorporation into digital library collections; this included scanning to create page images, OCRing to extract searchable text, and indexing (the hand-keying of metadata such as author, title, etc.)</span></p>
<p><span class="small">Search Engine: wrote a new digital library searching and ranking engine designed to fill the gap between full text engines and fielded search systems, and to scale to millions of objects; the resulting system, tested on 1.5 million text objects and their metadata, performed fast boolean searching with wildcards and term list scanning</span></p>
<p><span class="small">Electronic Publishing: managed the subscription-based electronic publication of the UC Press book, “The Cigarette Papers”; this experiment explored technical and marketing aspects of online publishing with access fees</span></p>
<p><span class="small">Printer Cost Recovery: at UCSF, architected a network-based charging mechanism for publicly available print stations, a problem that plagued libraries across the country; the resulting system was probably the first low-cost solution enabling the library directly to manage all aspects of the authorization and routing technology involved</span></p>
<p><span class="small">Authentication Infrastructure: at UCSF, architected the development of a network-queryable campus authentication infrastructure, requiring coordination with the campus units that supply payroll and student registration data on an ongoing basis; oversaw the development of various campus proxy servers</span></p>
<p><span class="small"><strong>Computer Operating Systems</strong></span></p>
<p><span class="small">Performance Analysis: wrote programs in S (precursor of the R language) to summarize and plot UNIX 4.2BSD file system activity; debugged kernel traces and a multi-strategy cache simulator based on them (presented at ACM SigOps, 1985)</span></p>
<p><span class="small">Heterogeneous Distributed Systems: worked on a project (1985) to bring up ULTRIX and VMS clients on a network of fully sharable computing resources, including file servers and print servers; wrote ULTRIX kernel code to implement a transport-level network interface, consisting of routines to generate server-side programs in a simple network command language</span></p>
<p><span class="small">Command-Level Operating System Primitives: conceived a method of general-purpose software tool design; wrote three UNIX tools distributed with 4.2/4.3BSD using this method; these tools (“jot”, “rs”, and “lam”) are distributed in current Mac OS X systems</span></p>
<p><span class="small">VLSI Coprocessor Design: worked on the design for a decimal coprocessor that IBM implemented along with Micro/370, an IBM/370 architecture on a chip; wrote and tested microcode for the decimal EDIT AND MARK instruction (1984)</span></p>
<p><span class="small">Terminal Capability Database: in the early 1980’s, maintained the Berkeley UNIX <em>termcap</em> file for a period of about five years; this data lives on (also in <em>terminfo</em>) as an integral part of modern Linux and UNIX-based systems</span></p>
<p><span class="small"><strong>Communication/Instruction</strong></span></p>
<p><span class="small">Community Service: chaired the Digital Library Federation’s (DLF) Developers Forum from 2005-2008, bringing it from near-extinction to thriving success; participated as panel organizer, as session chair, and/or as member of program committee for numerous conferences and meetings, such as PIDapalooza, IWAW, Open Repositories, iPRES, JCDL, ECDL, etc.; for several years presented at and advised the CENDI Persistent Identification Task Group (E-Government) Chaired the NSF DataONE Preservation and Metadata Working Group 2009-2014.</span></p>
<p><span class="small">Intellectual Property: consulted with the World Intellectual Property Organization in Geneva regarding design of a federated IP digital library (covering patents, trademarks, designs, and traditional knowledge), and developed a proof-of-concept demonstration system</span></p>
<p><span class="small">Instructional Support: at UCSF, managed the creation of a flexible software system for faculty to author and maintain course home pages</span></p>
<p><span class="small">Instruction: presented over a dozen ARK tutorials both online and in-person at conferences; at UC Berkeley, accrued ten years’ experience in general consulting (advising) with users, students, and programmers on UNIX and IBM CMS; teaching assistant for undergraduate computer architecture; seven years’ experience designing and teaching courses on UNIX and CMS; outside UCB, gave several week-long corporate training sessions (at AT&amp;T, NCC, IRS) on Common Lisp and UNIX</span></p>
<p><span class="small">SIGWEB: created and organized a 400-person, all-day event at UCB for the SF Bay Area special interest group in state of the art network information retrieval applications; recruited most of the speakers and presented at this 1994 meeting</span></p>
<p><span class="small">Common Lisp: as a private consultant, was designer and principal author of the 899-page manual, <em>Common Lisp: the Reference</em> (Addison-Wesley, 1988); supervised two co-authors for this work</span></p>
<hr>
<p><span class="small"><em>PROFESSIONAL HISTORY</em></span></p>
<p><span class="small">7/22 to present</span></p>
<p><span class="small">SENIOR RESEARCH ASSOCIATE − Drexel University</span></p>
<p><span class="small">Guided students and interns in the ongoing development of the YAMZ.net metadictionary and its use of ARK identifiers. Led the ARK Alliance expansion to over 1700 organizations. </span></p>
<p><span class="small">1/14 to 7/22</span></p>
<p><span class="small">IDENTIFIER SYSTEMS ARCHITECT − UCOP CDL</span></p>
<p><span class="small">Led the expansion of the EZID.cdlib.org identifier service and the N2T resolver. Added a formal agreement between n2t.net and identifiers.org to support compact identifiers for over 700 identifier schemes. Gave the keynote address (in French) at the 2018 ARK Summit at the BnF in Paris. As chair of the DataONE preservation and metadata working group, conceived and led creation of the YAMZ.net open, collaborative vocabulary building tool to mitigate against traditional inefficient, non-inclusive vocabulary consensus methods (eg, standard design by committee). Founded and led the ARK Alliance (arks.org) to sustain the ARK technical specification, its supporting registry, and the global ARK resolver. In 2022 there were over 1200 ARK organizations, including 10 national libraries, 145 universities, 184 archives, 75 journals, and major museums such as the Louvre, Smithsonian, and Frick.</span></p>
<p><span class="small">1/10 to 1/14</span></p>
<p><span class="small">ASSOCIATE DIRECTOR, UC CURATION CENTER − UCOP CDL</span></p>
<p><span class="small">Provided leadership, strategy, and vision for creation of CDL’s approach to curation of research datasets and scholarly digital assets. Author of a number of micro-service specifications, including Pairtree, ReDD, Checkm, Namaste, and chief designer of the EZID identifier service and N2T resolver system. For the NSF DataONE initiative, I was technical lead on two of the first six NSF DataONE member node repositories (at CDL), leader of the Preservation and Metadata working group, member of the Leadership Team, and Core Cyberinfrastructure Team. I was heavily involved in the design and specification of the award-winning DataUp tool for curating spreadsheet data (CDL partnership with Micrsoft Research) and a simple approach to publishing data papers. Co-Lead on the implementation of YAMZ, an online crowdsourced metadata dictionary.</span></p>
<p><span class="small">2/03 to 12/09</span></p>
<p><span class="small">PRESERVATION TECHNOLOGIES ARCHITECT − UCOP CDL</span></p>
<p><span class="small">While leading strategic and technical aspects of the digital preservation program at CDL, I authored a web archiving service vision for a winning grant proposal ($2.4M) from the Library of Congress. I was technical lead for that project and worked at several levels on the design and implementation of CDL’s digital preservation repository. During this time I represented the CDL at the national level (NIH/NLM, NARA, GPO) and international level (British Library, DCC (UK), National Library of Canada, National Library of France, etc). I also served as CDL technical representative to national and international standards bodies (NISO, IETF, Dublin Core) and consortia (IIPC, DLF, W3C) and provided leadership for CDL’s Advanced Technology Group and programmer teams at NYU and UNT.</span></p>
<p><span class="small">5/01 to 1/03</span></p>
<p><span class="small">DIRECTOR OF TECHNICAL PLANNING, LNTDL − UCSF CKM and UCOP CDL</span></p>
<p><span class="small">While maintaining a partial appointment with the California Digital Library (CDL, at UC Office of the President), I provided technical leadership for the Legacy National Tobacco Documents Library hosted at the UC San Francisco Library and Center for Knowledge Management. Already the most important center for tobacco control documents, the UCSF Library was selected for this enormous new data set and I was asked in August 2000 to draft the initial collection architecture. I went on to architect and implement a major new and significantly different collection, detailing the outsourced processing requirements and developing a new search engine and interface.</span></p>
<p><span class="small">At UCOP, I worked with the content management infrastructure group on defining persistent identifiers and common metadata in an attempt to consolidate and rationalize management of a diverse group of existing CDL datasets. There was also a strategic education (UC wide) and planning (eg, for open source library tools) component.</span></p>
<p><span class="small">5/98 to 4/01</span></p>
<p><span class="small">CONSULTANT, MEDICAL INFORMATICS − UCSF CKM and the NLM</span></p>
<p><span class="small">Received a three-year grant (resembling a fellowship) from the NLM to research persistent naming on the internet and to advise NLM on what to do about electronic permanence. Across a range of proposals and literature, I analyzed methods, algorithms, performance, support implications, and social and institutional impacts. My initial recommendation resulted in the formation of an NLM group to define aspects of permanence directly relevant to NLM and designated for review by the Library of Congress and the National Agriculture Library. I also served as editor of this group’s permanence rating specification and was a member of a follow-on group formed to create a plan for implementing permanence at NLM. My final recommendation to NLM was to use persistent names having the properties described in the Archival Resource Key (ARK) draft. An ARK prototype system was set up at NLM.</span></p>
<p><span class="small">During this period I continued to speak regularly about my work, giving seminars at the Library of Congress, NLM (LHC) Computer Science Branch, UCB Computer Science department, UCSF Medical Informatics, UCB School of Information Management, and presentations to the annual meeting of the Coalition for Networked Information and various UC Library groups. I also maintained a fractional appointment to advise the UCSF Library on technical planning, including hiring and infrastructure. I served continuously during this time on the 9-campus University of California working group on technology, architecture, and standards for the California Digital Library (UCOP).</span></p>
<p><span class="small">10/95 to 4/98</span></p>
<p><span class="small">MANAGER, ADVANCED TECHNOLOGY GROUP − Center for Knowledge Management, UCSF</span></p>
<p><span class="small">Led a team of three programmers in designing and implementing several major projects. The Medsage project resulted in a production campus system for searching the MEDLINE database; components included a WWW interface, links to 71 electronic journals stored locally on an optical jukebox, an HTTP/Z39.50 gateway, and a MARC to HTML record translator. A second major project built a campus authentication, authorization, and charging infrastructure for multiple applications, initially print charging from public workstations; other applications included controlled access to electronic content, Web proxying for dialin authentication, and an X509 certificate authority.</span></p>
<p><span class="small">8/94 to 8/95</span></p>
<p><span class="small">LEAD PROGRAMMER/RESEARCHER − National Library of Medicine, Bethesda, MD</span></p>
<p><span class="small">Received a one-year grant from the NLM: (a) to provide technical leadership for a team of five people setting up a Z39.50 server for MEDLARS databases, and (b) to research new protocols combining the strengths of Z39.50 and HTTP, particularly as they might apply to the NLM Sourcerer project (for discovering network resources and merging multi-server query results). During that year provided ongoing technical guidance to three people maintaining Infocal.</span></p>
<p><span class="small">9/89 to 9/95</span></p>
<p><span class="small">LEAD PROGRAMMER − Infocal Project, UC Berkeley</span></p>
<p><span class="small">As instigator and technical leader of the Infocal project, my job was: (a) to design and implement software for an information server and one or more clients and (b) to design and supervise the maintenance of a growing body of campus information. The Infocal project won material support from Sun, Apple, DEC, CNI, and CNIDR. I made presentations on Infocal, on Z39.50, and on related work at professional meetings for ASIS, SIGUCCS, LITA (ALA), IEEE, HPCC, and BIREME. I supervised one position that created and monitored the mostly automatic update procedures for campus data providers.</span></p>
<p><span class="small">The server was implemented in C, using as DBMS the UNIX filesystem and a small ad hoc search engine, avoiding administrative, functional, and performance problems of available DBMS products. The first (and only) client was written in C and TCL and functioned as a walkup campus kiosk system from about 200 terminals, as a telnet destination for anyone on the internet, and as an email robot for users who at least had an internet mail stop.</span></p>
<p><span class="small">While this client could establish Z39.50 sessions with other servers, the protocol had only just matured (Version 3) to the point where it interoperably supported the server’s browsing and non-bibliographic data requirements, so the client used a patchwork of older protocols. This and the risk of compromising the security of the campus network prevented the client code from being released to compete with other emerging systems (Web, Gopher, Prospero). The need to link to an increasing number of external targets in the multi-protocol internet led to my modifying the client to use the WWW protocol suite.</span></p>
<p><span class="small">9/77 to 8/89</span></p>
<p><span class="small">PROGRAMMER − 50-100% time, Information Systems and Technology, UC Berkeley</span></p>
<p><span class="small">As programmer for six years, I worked in a team of four people in charge of UNIX, microcomputers, and networking, with one year as acting manager. Before then, I consulted, taught, and documented UNIX, IBM CMS, and Calidoscope (a Berkeley version of CDC 6400 Scope) operating systems. As a system administrator, I designed a standard campus Ultrix configuration for about 150 microvaxes and consulted with users on VAX and Macintosh computers.</span></p>
<p><span class="small">5/85 to 8/85</span></p>
<p><span class="small">RESEARCH INTERN − Digital Equipment Corp., Eastern Research Lab, Hudson, MA</span></p>
<p><span class="small">Worked with the distributed systems architecture team in researching, designing, and prototyping a heterogeneous distributed systems project. The main features of the design were a fast RPC-style protocol, a machine-independent network command language, and shared access to resources by ULTRIX, VMS, and MS-DOS. I worked on the ULTRIX kernel transport and network interface routines.</span></p>
<hr>
<p><span class="small"><em>EDUCATION</em></span></p>
<p><span class="small"> BA, UC Berkeley, Double Major in Math and Computer Science (1982)<br> (two courses short of a third major in Comparative Literature)<br> Courses in Math and Physics at University of Nancy, France (1976) </span></p>
<p><span class="small">Languages: C, LISP, PERL, Ruby, Python, S, Java, Pascal, FORTRAN, APL, PDP assembler, TCL, shell, etc.<br> Partial fluency in French; knowledge of German and Spanish </span></p>
<hr>
<p><span class="small"><em>SELECTED PUBLICATIONS</em></span></p>
<p><span class="small"><em>Building Community Consensus for Scientific Metadata with YAMZ,</em> Jane Greenberg, Mat Kelly, John Kunze et al, Data Intelligence, March 2023, https://doi.org/10.1162/dint_a_00211</span></p>
<p><span class="small"><em>FAIR Metadata: A Community-Driven Vocabulary Application,</em> Christopher B. Rauch, Mat Kelly, John A. Kunze, Jane Greenberg, 2022, https://doi.org/10.1007/978-3-030-98876-0_16</span></p>
<p><span class="small"><em>Lost without context: Representing relationships between archival materials in the digital environment,</em> The Lighting the Way Handbook: Case Studies, Guidelines, and Emergent Futures for Archival Discovery and Delivery, October 2021, book chapter, https://doi.org/10.25740/GG453CV6438</span></p>
<p><span class="small"><em>Internet of Samples (iSamples): Toward an interdisciplinary cyberinfrastructure for material samples,</em> Neil Davies, John Deck, Eric C Kansa, Sarah Whitcher Kansa, John Kunze, Christopher Meyer, Thomas Orrell, Sarah Ramdeen, Rebecca Snyder, Dave Vieglais, Ramona L Walls, Kerstin Lehnert, GigaScience, Volume 10, Issue 5, May 2021, giab028, https://doi.org/10.1093/gigascience/giab028</span></p>
<p><span class="small"><em>cite-as: A Link Relation to Convey a Preferred URI for Referencing,</em> H. Van de Sompel, M. Nelson, G. Bilder, J. Kunze, S. Warner, doi:10.17487/RFC8574, April 2019, https://www.rfc-editor.org/info/rfc8574</span></p>
<p><span class="small"><em>A Computational Approach to Historical Ontologies,</em> Mat Kelly, Jane Greenberg, Christopher Rauch, Sam Grabus, Joan Boone, John Kunze, and Peter Logan, 2020 IEEE International Conference on Big Data, https://doi.org/10.1109/bigdata50022.2020.9378268</span></p>
<p><span class="small"><em>The BagIt File Packaging Format (V1.0),</em> Kunze, J., Littman, J., et al.&nbsp;RFC 8493, doi:10.17487/RFC8493, October 2018, https://www.rfc-editor.org/info/rfc8493</span></p>
<p><span class="small"><em>Ten persistent myths about persistent identifiers,</em> Kunze, J., August 2018, https://n2t.net/ark:/13030/c7gb1xh09</span></p>
<p><span class="small"><em>Uniform Resolution of Compact Identifiers for Biomedical Data,</em> Wimalaratne, S, Juty, N, Kunze, J. et al.&nbsp;Nature Scientific Data. May 2018. https://doi.org/10.1038/sdata.2018.95</span></p>
<p><span class="small"><em>Persistence Statements: Describing Digital Stickiness,</em> Kunze, J. et al.&nbsp;Data Science Journal. 16, p.39, 2017. https://doi.org/10.5334/dsj-2017-039</span></p>
<p><span class="small"><em>Identifiers for the 21st century: How to design, provision, and reuse persistent identifiers to maximize utility and impact of life science data,</em> Julie A. McMurry, Nick Juty, Niklas Blomberg, Tony Burdett, Tom Conlin, Nathalie Conte, MÃ©lanie Courtot, John Deck, Michel Dumontier, Donal K. Fellows, Alejandra Gonzalez-Beltran, Philipp Gormanns, Jeffrey Grethe, Janna Hastings, Jean-Karim HÃ©richÃ©, Henning Hermjakob, Jon C. Ison, Rafael C. Jimenez, Simon Jupp, John Kunze, Camille Laibe, Nicolas Le NovÃ¨re, James Malone, Maria Jesus Martin, Johanna R. McEntyre, Chris Morris, Juha Muilu, Wolfgang MÃ¼ller, Philippe Rocca-Serra, Susanna-Assunta Sansone, Murat Sariyar, Jacky L. Snoep, Stian Soiland-Reyes, Natalie J. Stanford, Neil Swainston, Nicole Washington, Alan R. Williams, Sarala M. Wimalaratne, Lilly M. Winfree, Katherine Wolstencroft, Carole Goble, Christopher J. Mungall, Melissa A. Haendel, Helen Parkinson. PLOS Biology, 29 June 2017. https://doi.org/10.1371/journal.pbio.2001414</span></p>
<p><span class="small"><em>DDI and Enhanced Data Citation,</em> Hoyle, Larry, Mary Vardigan, Jay Greenfield, Sam Hume, Sanda Ionescu, Jeremy Iverson, John Kunze, Barry Radler, Wendy Thomas, Stuart Weibel, Michael Witt. IASSIST Quarterly, Fall 2015. http://iassistdata.org/sites/default/files/vol39_3-4_hoyle2.pdf</span></p>
<p><span class="small"><em>Community Next Steps for Making Globally Unique Identifiers Work for Biocollections Data,</em> Guralnick, Robert, Nico Cellinese, John Deck, Richard Pyle, John Kunze, Lyubomir Penev, Ramona Walls, Gregor Hagedorn, Donat Agosti, John Wieczorek, Terry Catapano, Roderic Page. ZooKeys 494: 133-154 2015. http://doi.org/10.3897/zookeys.494.9352</span></p>
<p><span class="small"><em>Kernel Metadata and Electronic Resource Citations (ERCs),</em> Kunze, J; Janee, G; Turner, A. 2014. https://n2t.net/ark:/13030/c7sn0141m</span></p>
<p><span class="small"><em>The ARK Identifier Scheme: Lessons Learnt at the BnF and Questions Yet Unanswered,</em> Peyrard, SÃ©bastien, John Kunze, Jean-Philippe Tramoni. DC-2014 – The Austin Proceedings. Oct 2014 https://n2t.net/ark:/13030/c7cj87k6m</span></p>
<p><span class="small"><em>DataUp: A tool to help researchers describe and share tabular data,</em> Strasser, Carly, John Kunze, Stephen Abrams, Patricia Cruse. [v1; ref status: approved 1, approved with reservations 1, http://f1000r.es/2n7] F1000Research 2014, 3:6 (doi: 10.12688/f1000research.3-6.v1)</span></p>
<p><span class="small"><em>Guidelines on Recommending Data Repositories as Partners in Publishing Research Data,</em> Callaghan, Sarah, Jonathan Tedds, John Kunze, et al.&nbsp;IJDC Vol. 9, No.&nbsp;1, pp.&nbsp;152-163, 2014. http://dx.doi.org/10.2218/ijdc.v9i1.309</span></p>
<p><span class="small"><em>Processes and Procedures for Data Publication: A Case Study in the Geosciences,</em> Sarah Callaghan, Fiona Murphy, Jonathan Tedds, Rob Allan, John Kunze, et al.&nbsp;IJDC Vol 8, No 1, 2013. http://dx.doi.org/10.2218/ijdc.v8i1.253</span></p>
<p><span class="small"><em>DataONE: Data Observation Network for Earth - Preserving Data and Enabling Innovation in the Biological and Environmental Sciences,</em> Michener, William, Patricia Cruse, John Kunze, at al, D-Lib Magazine, 17:1/2, Jan/Feb 2011. http://www.dlib.org/dlib/january11/michener/01michener.html</span></p>
<p><span class="small"><em>California Digital Library: Standardizing Digital Practices Across</em> the University of California System” Kunze, John, Patricia Martin. NISO ISQ, Volume 22, Issue 1, Winter 2010. http://www.niso.org/apps/group_public/download.php/3676/QA_CDL_Kunze_Martin_%20isqv22no1.pdf</span></p>
<p><span class="small"><em>Practices, Trends, and Recommendations in Technical Appendix Usage for Selected Data-Intensive Disciplines,</em> Kunze, John, Patricia Cruse, Rachael Hu, et al, Report for the Gordon and Betty Moore Foundation, November 2010, https://n2t.net/ark:/13030/c7jw86m55</span></p>
<p><span class="small"><em>An Emergent Micro-Services Approach to Digital Curation Infrastructure,</em> Abrams, Stephen, John Kunze, and David Loy, iPRES 2009: the Sixth International Conference on Preservation of Digital Objects. Proceedings, 4-11. Also “An Emergent Micro-Services Approach to Digital Curation Infrastructure,”International Journal of Digital Curation 5:1, 2010, 172-186.</span></p>
<p><span class="small"><em>Directory Description with Namaste Tags,</em> Kunze, John. 2009 November 9. https://n2t.net/ark:/13030/c7g44hq41</span></p>
<p><span class="small"><em>Checkm: a checksum-based manifest format,</em> Kunze, John. 2009 Oct 30. https://n2t.net/ark:/13030/c72z12p53</span></p>
<p><span class="small"><em>Reverse Directory Deltas (ReDD),</em> Kunze, John, Abrams, S, Hetzner, E, Loy, D. 2009 June 23. https://n2t.net/ark:/13030/c76m3337d</span></p>
<p><span class="small"><em>Preservation Is Not a Place,</em> Abrams, Stephen, Patricia Cruse, John Kunze. ISSN: 1746-8256. IJDC, Vol 4, No 1, 2009. http://ijdc.net/index.php/ijdc/article/download/98/73</span></p>
<p><span class="small"><em>The WARC File Format 1.0 (ISO 28500),</em> Mohr, Gordon, Kunze, John, Stack, Michael, ISO Draft Standard, November 2008. https://n2t.net/ark:/13030/c7h98zc9w</span></p>
<p><span class="small"><em>Pairtrees for Collection Storage,</em> Kunze, J, Haye, M, Hetzner, E, Reyes, M, Snavely, C. 2008 December 12. https://n2t.net/ark:/13030/c7kw57h9b</span></p>
<p><span class="small"><em>The BagIt File Packaging Format,</em> Kunze, John, et al.&nbsp;2008 December 1 http://tools.ietf.org/html/draft-kunze-bagit-01</span></p>
<p><span class="small"><em>The ARK Identifier Scheme,</em> J. Kunze, R. Rodgers, May 2008 https://n2t.net/ark:/13030/c7cv4br18</span></p>
<p><span class="small"><em>Name-to-Thing (N2T) Resolver: Vision,</em> J. Kunze, Nov 2007 https://n2t.net/ark:/13030/c7n58ck7f</span></p>
<p><span class="small">RFC 5013, <em>The Dublin Core Metadata Element Set,</em> J. Kunze, T. Baker, August 2007, http://www.ietf.org/rfc/rfc5013.txt</span></p>
<p><span class="small"><em>Page Image Compression for Mass Digitization,</em> S. Chapman, L. Duplouy, J. Kunze, S. Blair, et al.&nbsp;Archiving 2007, Arlington, VA; May 2007; p.&nbsp;37-42; ISBN / ISSN: 978-0-89208-270-4. http://www.ingentaconnect.com/content/ist/ac/2007/00002007/00000001/art00010</span></p>
<p><span class="small"><em>THUMP – The HTTP URL Mapping Protocol,</em> Kunze, John, Nassar, N, Gamiel, K. 2007 Feb 24. https://n2t.net/ark:/13030/c7bc3sx0w</span></p>
<p><span class="small"><em>The Entity (N2T) Resolver: low-risk, low-cost persistent identification,</em> J. Kunze. iPRES 2006, Ithaca, NY; October 2006; presentation http://hdl.handle.net/1813/3688</span></p>
<p><span class="small"><em>Future-Proofing the Web: What We Can Do Today, Kunze, J. iPRES 2005, Goettingen, Germany; 16 Sept</em></span></p>
<p><span class="small"><em>A Name-Value Language (ANVL), Kunze, J, Kahle, B, Masanes, J, Mohr, G.</em></span></p>
<p><span class="small"><em>[ARK: One of] A Dozen Primers on Standards,</em> J. Kunze, Computers in Libraries, Vol 24, Issue 2, February 2004, http://www.infotoday.com/cilmag/feb04/primers.shtml</span></p>
<p><span class="small"><em>Towards Electronic Persistence Using ARK Identifiers,</em> J. Kunze, Proceedings of the 3rd ECDL Workshop on Web Archives, August 2003, https://n2t.net/ark:/13030/c7n00zt1z</span></p>
<p><span class="small"><em>A Metadata Kernel for Electronic Permanence,</em> J. Kunze, Journal of Digital Information, Vol 2, Issue 2, January 2002, ISSN 1368-7506, https://n2t.net/ark:/13030/c7rr1pm49</span></p>
<p><span class="small"><em>NISO/ANSI Z39.85-2001, Dublin Core Metadata Element Set,</em> July 2001</span></p>
<p><span class="small"><em>The ARK Persistent Identifier Scheme,</em> J. Kunze, R. Rodgers, March 2001, https://tools.ietf.org/html/draft-kunze-ark-01</span></p>
<p><span class="small">RFC 2731, <em>Encoding Dublin Core Metadata in HTML,</em> J. Kunze, December 1999, [obsoleted in RFC 5791] https://www.ietf.org/rfc/rfc2731</span></p>
<p><span class="small">RFC 2413, <em>Dublin Core Metadata for Resource Discovery,</em> S. Weibel, J. Kunze, C. Lagoze, M. Wolf, September 1998, https://www.ietf.org/rfc/rfc2413</span></p>
<p><span class="small">RFC 2056, <em>Uniform Resource Locators for Z39.50,</em> R. Denenberg, J. Kunze, D. Lynch, November 1996, https://www.ietf.org/rfc/rfc2056</span></p>
<p><span class="small">RFC 1736, <em>Functional Recommendations for Internet Resource Locators,</em> J. Kunze, February 1995. https://www.ietf.org/rfc/rfc1736</span></p>
<p><span class="small">RFC 1625, <em>WAIS over Z39.50-1988,</em> M. St.&nbsp;Pierre, J. Fullton, K. Gamiel, J. Goldman, B. Kahle, J. Kunze, H. Morris, and F. Schiettecatte, (WAIS, Inc., CNIDR, Thinking Machines Corp., UC Berkeley, FS Consulting), June 1994 https://www.ietf.org/rfc/rfc1625</span></p>
<p><span class="small"><em>The Cigarette Papers: Issues in Publishing Materials in Multiple Formats,</em> K. Butter, R. Chandler, J. Kunze, D-Lib Magazine, November 1996. https://doi.org/10.1045/november96-butter</span></p>
<p><span class="small"><em>A Unified Element Vocabulary for Metadata,</em> J. Kunze, Proceedings of W3C Distributed Indexing/Searching Workshop, (p71), Position paper, May 1996. https://doi.org/10.6084/m9.figshare.5212459</span></p>
<p><span class="small"><em>Evolution of a Digital Library for the Health Sciences,</em> J. Kunze, B. Warling, D-Lib Magazine, March 1996. https://doi.org/10.1045/march96-warling</span></p>
<p><span class="small"><em>Basic Z39.50 Server Concepts and Creation,</em> J. Kunze, NIST Special Publication 500-229 on Z39.50 Implementation Experiences, September 1995. https://doi.org/10.6084/m9.figshare.5212462</span></p>
<p><span class="small"><em>Resource Citations for Electronic Discovery and Retrieval,</em> J. Kunze, November 1992, position paper distributed to the mailing list uri@bunyip.com proposing the term “URC”, referenced in https://www.ietf.org/proceedings/25.pdf page 503</span></p>
<p><span class="small"><em>Nonbibliographic Applications of Z39.50,</em> J. Kunze, The Public-Access Computer Systems Review 3, no. 5 (1992): 4-30. https://journals.tdl.org/pacsr/index.php/pacsr/article/view/6061/5692</span></p>
<p><span class="small"><em>Common Lisp: the Reference,</em> Addison-Wesley, 1988 (899 pages), principal author acknowledgement page xix. https://n2t.net/ark:/13960/t68350d1q</span></p>
<p><span class="small"><em>A Trace-Driven Analysis of the UNIX 4.2 BSD File System,</em> J. Ousterhout, H. Da Costa, D. Harrison, J. Kunze, M. Kupfer, J. Thompson, Proceedings of the Tenth ACM Symposium on Operating Systems Principles, 1985. https://doi.org/10.1145/323647.323631</span></p>
<p><span class="small"><em>Z39.50 in a Nutshell (An Introduction to Z39.50)</em> J. Kunze, R. P. C. Rodgers, Lister Hill National Center for Biomedical Communications, July 1995 http://www.nlm.nih.gov/pubs/staffpubs/rodgers/z39.50/z39.50.html</span></p>
<hr>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/jkunze\.net");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>